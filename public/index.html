<body>
    <div id="authSection" class="card">
        <h1>Inloggen</h1>
        <input type="email" id="loginEmail" placeholder="E-mail">
        <input type="password" id="loginPass" placeholder="Wachtwoord">
        <button onclick="login()">Log In</button>
        <hr>
        <p>Nog geen account? <button style="background:gray" onclick="register()">Registreer</button></p>
    </div>

    <div id="mainDashboard" style="display:none;">
        <div class="card">
            <button onclick="logout()" style="background:red; width: 100px; float: right;">Uitloggen</button>
            <h1>Bedrijfs Dashboard</h1>
            <h3>Klant Toevoegen</h3>
            <input type="text" id="naam" placeholder="Bedrijfsnaam">
            <input type="text" id="btw" placeholder="BTW-Nummer">
            <input type="text" id="adres" placeholder="Adres">
            <button onclick="voegKlantToe()">Klant Opslaan</button>
        </div>
        </div>

    <script>
        async function login() {
            const res = await fetch('/api/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ email: document.getElementById('loginEmail').value, password: document.getElementById('loginPass').value })
            });
            if (res.ok) {
                document.getElementById('authSection').style.display = 'none';
                document.getElementById('mainDashboard').style.display = 'block';
                laadData();
            } else { alert('Fout bij inloggen'); }
        }

        async function register() {
            const email = prompt("E-mail voor nieuw account:");
            const password = prompt("Wachtwoord:");
            await fetch('/api/register', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ email, password })
            });
            alert('Geregistreerd! Je kunt nu inloggen.');
        }

        async function logout() {
            await fetch('/api/logout');
            location.reload();
        }

        // ... De rest van je bestaande laadData, voegKlantToe en maakFactuur functies ...
    </script>
</body>
